% rebase('templates/chapter.html', title="Deferred Acceptance Algorithm")

<div style="text-align: center;"><h1>Deferred Acceptance Algorithm</h1></div>
<hr/>


<h2 id="deferredAcceptanceAlgorithm">Deferred Acceptance Algorithm</h2>
<div class="bordered">
    <b id="alg">Algorithm:</b>
    <br>
    Men and women rank all potential partners.
    <!--?    TODO: add links that explain acceptability-->
    <ol>
        <li>Each man proposes to the highest ranked acceptable woman on his list, or to nobody if no one the list is
            acceptable.
        </li>
        <li>Each woman holds only her most preferred acceptable proposal and rejects all others.</li>
        <li>Each $m$ who is rejected by a woman removes her from his list.</li>
        <li>If any man $m$ is rejected, return to step 1.</li>
        <li>If no man is rejected, then each woman "accepts" her offer and is matched to the man whose proposal she
            holds.
        </li>
    </ol>
    <br>
    This is the <b>"man-proposing"</b> deferred acceptance algorithm; there is also a <b>"woman-proposing"</b> version.
</div>


<p>
    <!--?    <div class="purpleBox">-->
    <b>Example:</b><br>
    Data: Preferences off men and women. (All partners are acceptable.)
    <!--? TODO: figure out how to make drag and drop sortable preference relations       -->
    <br>
    <iframe width="100%" height="684" frameborder="0"
            src="https://observablehq.com/embed/@d3/mobile-patent-suits?cells=chart"></iframe>
</p>

<h2 id="existence">Stable matchings exist</h2>
<p class="bordered">
    <b id="alg">Theorem:</b>
    <br>
    The deferred acceptance algorithm ends in finite time with a stable matching. (In particular, a stable matching
    exists).
</p>
<p class="purpleBox">
    <b>Proof:</b><br/>
    The algorithm must end in a finite number of rounds. Suppose $m$ and $w$ are matched. Each must be acceptable to the
    other. (Why?) There is no blocking pair $(m, w')$ because if $m$ prefers $w'$ to $w$, then (1) at some time, $m$ <i>had</i>
    proposed to $w'$ and she eventually rejected him. Either $m$ is unacceptable to $w'$ or she then held a man she
    preferred to $m$. At every later round, $w'$ held the same man or some more preferred one, so $w'$ prefers her final
    match to $m$. Therefore, there are <b><i>NO BLOCKING PAIRS</i></b>. $\blacksquare$
</p>




